html,body{
  margin:0;padding:0;background:#0a0f14;color:#e7faff;
  font-family:system-ui,Segoe UI,Roboto,Arial;
  overflow:hidden; /* no default scrollbars */
}

/* === Overlay / HUD / Buttons / Cards (base) === */
.overlay{
  position:fixed;inset:0;background:rgba(6,12,18,.75);
  display:flex;align-items:center;justify-content:center;z-index:10;
  padding:16px;
  overflow:hidden; /* important: no scrolling */
}
.overlay.hidden{display:none}

.card{
  background:rgba(16,36,52,.95);
  border:1px solid rgba(90,170,220,.9);
  border-radius:10px;
  padding:16px;
  max-width:960px;
}

/* Character select container - no scroll, strictly 2 rows of cards */
.card.card--chars{
  width:min(1200px, 96vw);
  max-width:1200px;
}

.btn{
  padding:10px 16px;border:1px solid #59b6e6;background:#10283a;
  color:#e7faff;border-radius:8px;cursor:pointer;text-align:center;display:inline-block
}
.btn:hover{background:#123246}

.hud{
  position:fixed;left:0;right:0;top:6px;text-align:center;pointer-events:none;z-index:5
}
.hud span{
  display:inline-block;margin:2px 6px;padding:6px 10px;
  background:rgba(0,20,30,.5);border:1px solid rgba(80,180,255,.35);border-radius:8px
}

.controls{
  position:fixed;left:0;right:0;bottom:8px;text-align:center;pointer-events:none;z-index:5;
  font-size:12px;letter-spacing:.3px;
  color:#cfe9f7;
}
.controls span{
  display:inline-block;padding:6px 10px;border-radius:8px;
  background:rgba(0,20,30,.45);border:1px solid rgba(80,180,255,.25)
}

h1,h2,h3{margin:8px 0}
.small{font-size:12px;opacity:.85}
input.txt{
  width:100%;padding:8px;border-radius:6px;border:1px solid #315d7a;
  background:#0f2231;color:#e7faff
}

/* === Character Select (strictly two rows, auto columns) === */
.char-grid{
  --gap: 14px;
  display:grid;
  gap: var(--gap);
  margin-top:10px;
  /* columns/rows are set from JS in px to fit exactly */
}

/* Card stretches to row height */
.char-card{
  position:relative;
  background:rgba(16,36,52,.95);
  border:1px solid rgba(90,170,220,.5);
  border-radius:12px;
  padding:10px;
  cursor:pointer;
  transition:transform .08s ease;
  overflow:hidden;
  display:flex;
  flex-direction:column;
}
.char-card:hover{transform:translateY(-2px)}
.char-card.locked{cursor:not-allowed;filter:grayscale(100%)}
.char-card.locked::after{
  content:"Coming soon";position:absolute;inset:10px;border-radius:10px;
  background:rgba(0,0,0,.55);display:flex;align-items:center;justify-content:center;
  font-weight:700;letter-spacing:.5px
}

/* Media: strict 2:3, full image */
.char-thumb-wrap{
  width:100%;
  aspect-ratio: 2 / 3;
  border-radius:10px;
  background:rgba(8,20,30,.4);
  display:grid; place-items:center;
  overflow:hidden;
}
.char-thumb{
  width:100%; height:100%; display:block;
  object-fit:contain;
  image-rendering:auto;
}

/* Text under preview */
.char-name{margin:8px 4px 2px;font-weight:600;line-height:1.2}
.char-desc{
  margin:0 4px 8px; font-size:12px; opacity:.9; line-height:1.25;
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
}
canvas { image-rendering: pixelated; }

.dialog{
  width:min(900px, 94vw);
  max-width:900px;
}
.dialog-row{
  display:flex;
  gap:12px;
  align-items:stretch;
}
.dialog-avatar{
  width:120px;
  height:120px;
  object-fit:cover;
  border-radius:10px;
  border:1px solid rgba(90,170,220,.6);
  background:rgba(8,20,30,.4);
}
.dialog-text{
  flex:1;
  min-height:120px;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
}
.dialog-body{
  font-size:14px;
  line-height:1.4;
}
.dialog-actions{
  text-align:right;
  margin-top:10px;
}

.levelup{
  width:min(1100px, 94vw);
  max-width:1100px;
}
.levelup-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(220px, 1fr));
  gap:12px;
  margin-top:10px;
  align-items:stretch;
}
.levelup-grid .card{
  max-width:none;
}
